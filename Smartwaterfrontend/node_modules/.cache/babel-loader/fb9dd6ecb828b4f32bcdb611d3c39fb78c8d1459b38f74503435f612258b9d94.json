{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shraddha sajwan\\\\smart-water-frontend\\\\src\\\\components\\\\UsageSummary.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UsageSummary() {\n  _s();\n  const [today, setToday] = useState(0);\n  const [month, setMonth] = useState(0);\n  const [currentVolume, setCurrentVolume] = useState(null);\n  const [currentLevel, setCurrentLevel] = useState(null);\n  async function load() {\n    try {\n      const [r1, r2, cur] = await Promise.all([api.get('/api/stats/usage', {\n        params: {\n          range: 'today'\n        }\n      }), api.get('/api/stats/usage', {\n        params: {\n          range: 'month'\n        }\n      }), api.get('/api/reads/latest')]);\n      setToday(Number(r1.data.liters || 0));\n      setMonth(Number(r2.data.liters || 0));\n      if (cur.data) {\n        var _cur$data$volume_lite, _cur$data$water_level;\n        setCurrentVolume((_cur$data$volume_lite = cur.data.volume_liters) !== null && _cur$data$volume_lite !== void 0 ? _cur$data$volume_lite : null);\n        setCurrentLevel((_cur$data$water_level = cur.data.water_level_cm) !== null && _cur$data$water_level !== void 0 ? _cur$data$water_level : null);\n      }\n    } catch (err) {\n      console.error('UsageSummary load error', err);\n    }\n  }\n  useEffect(() => {\n    load();\n    const t = setInterval(load, 15000);\n    return () => clearInterval(t);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Usage Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Today used\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: today ? `${today.toFixed(2)} L` : '—'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"This month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: month ? `${month.toFixed(2)} L` : '—'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Current Volume\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentVolume ? `${currentVolume.toFixed(1)} L` : '—'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Current Level\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentLevel ? `${currentLevel.toFixed(1)} cm` : '—'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(UsageSummary, \"m5yaGu6sTl1DHZUuSsX+6lvUy/0=\");\n_c = UsageSummary;\nvar _c;\n$RefreshReg$(_c, \"UsageSummary\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","UsageSummary","_s","today","setToday","month","setMonth","currentVolume","setCurrentVolume","currentLevel","setCurrentLevel","load","r1","r2","cur","Promise","all","get","params","range","Number","data","liters","_cur$data$volume_lite","_cur$data$water_level","volume_liters","water_level_cm","err","console","error","t","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/Shraddha sajwan/smart-water-frontend/src/components/UsageSummary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/api';\r\n\r\nexport default function UsageSummary() {\r\n  const [today, setToday] = useState(0);\r\n  const [month, setMonth] = useState(0);\r\n  const [currentVolume, setCurrentVolume] = useState(null);\r\n  const [currentLevel, setCurrentLevel] = useState(null);\r\n\r\n  async function load() {\r\n    try {\r\n      const [r1, r2, cur] = await Promise.all([\r\n        api.get('/api/stats/usage', { params: { range: 'today' } }),\r\n        api.get('/api/stats/usage', { params: { range: 'month' } }),\r\n        api.get('/api/reads/latest')\r\n      ]);\r\n      setToday(Number(r1.data.liters || 0));\r\n      setMonth(Number(r2.data.liters || 0));\r\n      if (cur.data) {\r\n        setCurrentVolume(cur.data.volume_liters ?? null);\r\n        setCurrentLevel(cur.data.water_level_cm ?? null);\r\n      }\r\n    } catch (err) {\r\n      console.error('UsageSummary load error', err);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    load();\r\n    const t = setInterval(load, 15000);\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2>Usage Summary</h2>\r\n      <div className=\"summary-grid\">\r\n        <div>\r\n          <h3>Today used</h3>\r\n          <p>{today ? `${today.toFixed(2)} L` : '—'}</p>\r\n        </div>\r\n\r\n        <div>\r\n          <h3>This month</h3>\r\n          <p>{month ? `${month.toFixed(2)} L` : '—'}</p>\r\n        </div>\r\n\r\n        <div>\r\n          <h3>Current Volume</h3>\r\n          <p>{currentVolume ? `${currentVolume.toFixed(1)} L` : '—'}</p>\r\n        </div>\r\n\r\n        <div>\r\n          <h3>Current Level</h3>\r\n          <p>{currentLevel ? `${currentLevel.toFixed(1)} cm` : '—'}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,eAAe,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAEtD,eAAec,IAAIA,CAAA,EAAG;IACpB,IAAI;MACF,MAAM,CAACC,EAAE,EAAEC,EAAE,EAAEC,GAAG,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACtClB,GAAG,CAACmB,GAAG,CAAC,kBAAkB,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAQ;MAAE,CAAC,CAAC,EAC3DrB,GAAG,CAACmB,GAAG,CAAC,kBAAkB,EAAE;QAAEC,MAAM,EAAE;UAAEC,KAAK,EAAE;QAAQ;MAAE,CAAC,CAAC,EAC3DrB,GAAG,CAACmB,GAAG,CAAC,mBAAmB,CAAC,CAC7B,CAAC;MACFb,QAAQ,CAACgB,MAAM,CAACR,EAAE,CAACS,IAAI,CAACC,MAAM,IAAI,CAAC,CAAC,CAAC;MACrChB,QAAQ,CAACc,MAAM,CAACP,EAAE,CAACQ,IAAI,CAACC,MAAM,IAAI,CAAC,CAAC,CAAC;MACrC,IAAIR,GAAG,CAACO,IAAI,EAAE;QAAA,IAAAE,qBAAA,EAAAC,qBAAA;QACZhB,gBAAgB,EAAAe,qBAAA,GAACT,GAAG,CAACO,IAAI,CAACI,aAAa,cAAAF,qBAAA,cAAAA,qBAAA,GAAI,IAAI,CAAC;QAChDb,eAAe,EAAAc,qBAAA,GAACV,GAAG,CAACO,IAAI,CAACK,cAAc,cAAAF,qBAAA,cAAAA,qBAAA,GAAI,IAAI,CAAC;MAClD;IACF,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,GAAG,CAAC;IAC/C;EACF;EAEA/B,SAAS,CAAC,MAAM;IACde,IAAI,CAAC,CAAC;IACN,MAAMmB,CAAC,GAAGC,WAAW,CAACpB,IAAI,EAAE,KAAK,CAAC;IAClC,OAAO,MAAMqB,aAAa,CAACF,CAAC,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE9B,OAAA;IAAKiC,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBlC,OAAA;MAAAkC,QAAA,EAAI;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACtBtC,OAAA;MAAKiC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BlC,OAAA;QAAAkC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,EAAI;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnBtC,OAAA;UAAAkC,QAAA,EAAI/B,KAAK,GAAG,GAAGA,KAAK,CAACoC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG;QAAG;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eAENtC,OAAA;QAAAkC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,EAAI;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnBtC,OAAA;UAAAkC,QAAA,EAAI7B,KAAK,GAAG,GAAGA,KAAK,CAACkC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG;QAAG;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eAENtC,OAAA;QAAAkC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,EAAI;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvBtC,OAAA;UAAAkC,QAAA,EAAI3B,aAAa,GAAG,GAAGA,aAAa,CAACgC,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG;QAAG;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3D,CAAC,eAENtC,OAAA;QAAAkC,QAAA,gBACElC,OAAA;UAAAkC,QAAA,EAAI;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtBtC,OAAA;UAAAkC,QAAA,EAAIzB,YAAY,GAAG,GAAGA,YAAY,CAAC8B,OAAO,CAAC,CAAC,CAAC,KAAK,GAAG;QAAG;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1D,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACpC,EAAA,CAxDuBD,YAAY;AAAAuC,EAAA,GAAZvC,YAAY;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}