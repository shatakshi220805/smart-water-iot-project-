{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TapUsageCard(){const[totalSec,setTotalSec]=useState(0);const[count,setCount]=useState(0);async function load(){try{const r=await api.get('/api/stats/tap',{params:{range:'today'}});setTotalSec(Number(r.data.total_seconds||0));setCount(Number(r.data.count||0));}catch(err){console.error('TapUsage load error',err);}}useEffect(()=>{load();const t=setInterval(load,15000);return()=>clearInterval(t);},[]);const mins=Math.floor(totalSec/60);const secs=totalSec%60;return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tap Usage (Today)\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total time:\"}),\" \",\"\".concat(mins,\"m \").concat(secs,\"s\")]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Times used:\"}),\" \",count]})]});}","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","TapUsageCard","totalSec","setTotalSec","count","setCount","load","r","get","params","range","Number","data","total_seconds","err","console","error","t","setInterval","clearInterval","mins","Math","floor","secs","className","children","concat"],"sources":["C:/smart-water-project/smartwaterfrontend/src/components/TapUsageCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../api/api';\r\n\r\nexport default function TapUsageCard(){\r\n  const [totalSec, setTotalSec] = useState(0);\r\n  const [count, setCount] = useState(0);\r\n\r\n  async function load() {\r\n    try {\r\n      const r = await api.get('/api/stats/tap', { params: { range: 'today' } });\r\n      setTotalSec(Number(r.data.total_seconds || 0));\r\n      setCount(Number(r.data.count || 0));\r\n    } catch (err) {\r\n      console.error('TapUsage load error', err);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    load();\r\n    const t = setInterval(load, 15000);\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  const mins = Math.floor(totalSec / 60);\r\n  const secs = totalSec % 60;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <h2>Tap Usage (Today)</h2>\r\n      <div>\r\n        <strong>Total time:</strong> {`${mins}m ${secs}s`}\r\n      </div>\r\n      <div>\r\n        <strong>Times used:</strong> {count}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAE,CACpC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAErC,cAAe,CAAAW,IAAIA,CAAA,CAAG,CACpB,GAAI,CACF,KAAM,CAAAC,CAAC,CAAG,KAAM,CAAAX,GAAG,CAACY,GAAG,CAAC,gBAAgB,CAAE,CAAEC,MAAM,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAC,CAAC,CACzEP,WAAW,CAACQ,MAAM,CAACJ,CAAC,CAACK,IAAI,CAACC,aAAa,EAAI,CAAC,CAAC,CAAC,CAC9CR,QAAQ,CAACM,MAAM,CAACJ,CAAC,CAACK,IAAI,CAACR,KAAK,EAAI,CAAC,CAAC,CAAC,CACrC,CAAE,MAAOU,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,CAAEF,GAAG,CAAC,CAC3C,CACF,CAEApB,SAAS,CAAC,IAAM,CACdY,IAAI,CAAC,CAAC,CACN,KAAM,CAAAW,CAAC,CAAGC,WAAW,CAACZ,IAAI,CAAE,KAAK,CAAC,CAClC,MAAO,IAAMa,aAAa,CAACF,CAAC,CAAC,CAC/B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACpB,QAAQ,CAAG,EAAE,CAAC,CACtC,KAAM,CAAAqB,IAAI,CAAGrB,QAAQ,CAAG,EAAE,CAE1B,mBACEF,KAAA,QAAKwB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB3B,IAAA,OAAA2B,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BzB,KAAA,QAAAyB,QAAA,eACE3B,IAAA,WAAA2B,QAAA,CAAQ,aAAW,CAAQ,CAAC,IAAC,IAAAC,MAAA,CAAIN,IAAI,OAAAM,MAAA,CAAKH,IAAI,OAC3C,CAAC,cACNvB,KAAA,QAAAyB,QAAA,eACE3B,IAAA,WAAA2B,QAAA,CAAQ,aAAW,CAAQ,CAAC,IAAC,CAACrB,KAAK,EAChC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}